hdStore.userData=function(){if(!this.JSON)this.JSON={};(function(){function i(c){return c<10?"0"+c:c}function j(c){q.lastIndex=0;return q.test(c)?'"'+c.replace(q,function(f){var b=r[f];return typeof b==="string"?b:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function l(c,f){var b,d,g,m,k=h,e,a=f[c];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(c);if(typeof n==="function")a=n.call(f,c,a);switch(typeof a){case "string":return j(a);case "number":return isFinite(a)?
String(a):"null";case "boolean":case "null":return String(a);case "object":if(!a)return"null";h+=p;e=[];if(Object.prototype.toString.apply(a)==="[object Array]"){m=a.length;for(b=0;b<m;b+=1)e[b]=l(b,a)||"null";g=e.length===0?"[]":h?"[\n"+h+e.join(",\n"+h)+"\n"+k+"]":"["+e.join(",")+"]";h=k;return g}if(n&&typeof n==="object"){m=n.length;for(b=0;b<m;b+=1){d=n[b];if(typeof d==="string")if(g=l(d,a))e.push(j(d)+(h?": ":":")+g)}}else for(d in a)if(Object.hasOwnProperty.call(a,d))if(g=l(d,a))e.push(j(d)+
(h?": ":":")+g);g=e.length===0?"{}":h?"{\n"+h+e.join(",\n"+h)+"\n"+k+"}":"{"+e.join(",")+"}";h=k;return g}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var o=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,p,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;if(typeof JSON.stringify!=="function")JSON.stringify=function(c,f,b){var d;p=h="";if(typeof b==="number")for(d=0;d<b;d+=1)p+=" ";else if(typeof b==="string")p=b;if((n=f)&&typeof f!=="function"&&(typeof f!=="object"||typeof f.length!=="number"))throw Error("JSON.stringify");return l("",
{"":c})};if(typeof JSON.parse!=="function")JSON.parse=function(c,f){function b(g,m){var k,e,a=g[m];if(a&&typeof a==="object")for(k in a)if(Object.hasOwnProperty.call(a,k)){e=b(a,k);if(e!==undefined)a[k]=e;else delete a[k]}return f.call(g,m,a)}var d;o.lastIndex=0;if(o.test(c))c=c.replace(o,function(g){return"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){d=eval("("+c+")");return typeof f==="function"?b({"":d},""):d}throw new SyntaxError("JSON.parse");}})();hdStore.prototype.addHandler({type:"save",handler:function(i){if(hdStore.userData)try{var j=document.documentElement;j.addBehavior("#default#userdata");j.setAttribute("x-hdStore-data",JSON.stringify(i));j.save(this.id);return true}catch(l){window.console&&console.log(l.message.toString());return false}},id:"userData"});hdStore.prototype.addHandler({type:"load",
handler:function(){if(hdStore.userData)try{var i=document.documentElement,j=[];i.load(this.id);if(i.getAttribute("x-hdStore-data")==null)throw Error("Data store "+this.id+" not found.");j=JSON.parse(i.getAttribute("x-hdStore-data"));for(var l in j)this.add(l,j[l]);return true}catch(o){window.console&&console.log(o.message.toString());return false}},id:"userData"});return!!document.documentElement.addBehavior}();